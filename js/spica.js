if(!Array.prototype.pop){Array.prototype.pop=function(){if(!this.length){return null}var a=this[this.length-1];--this.length;return a}}if(!Array.prototype.push){Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++){this[this.length]=arguments[a]}return this.length}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,a){if(typeof(a)!="number"){a=0}else{if(a<0){a=this.length+a}}for(var b=a,d=this.length;b<d;b++){if(this[b]===c){return b}}return -1}}function Browser(){this.name=navigator.userAgent;this.isWinIE=this.isMacIE=false;this.isGecko=this.name.match(/Gecko\//);this.isSafari=this.name.match(/AppleWebKit/);this.isKHTML=this.isSafari||navigator.appVersion.match(/Konqueror|KHTML/);this.isOpera=window.opera;this.hasNS=(document.documentElement)?document.documentElement.namespaceURI:null;if(document.all&&!this.isGecko&&!this.isSafari&&!this.isOpera){this.isWinIE=this.name.match(/Win/);this.isMacIE=this.name.match(/Mac/)}}var Browser=new Browser();if(!window.Event){var Event=new Object}Event={cache:false,getEvent:function(a){return(a)?a:((window.event)?window.event:null)},getKey:function(a){a=this.getEvent(a);return(a.which)?a.which:a.keyCode},stop:function(b){try{b.stopPropagation()}catch(a){}b.cancelBubble=true;try{b.preventDefault()}catch(a){}return(b.returnValue=false)},register:function(a,c,b){if(c=="keypress"&&(Browser.isKHTML||a.attachEvent)){c="keydown"}if(c=="mousewheel"&&Browser.isGecko){c="DOMMouseScroll"}if(!this.cache){this.cache=[]}if(a.addEventListener){this.cache.push([a,c,b]);a.addEventListener(c,b,false)}else{if(a.attachEvent){this.cache.push([a,c,b]);a.attachEvent(["on",c].join(""),b)}else{a[["on",c].join("")]=b}}},deregister:function(a,c,b){if(c=="keypress"&&(Browser.isKHTML||a.attachEvent)){c="keydown"}if(c=="mousewheel"&&Browser.isGecko){c="DOMMouseScroll"}if(a.removeEventListener){a.removeEventListener(c,b,false)}else{if(a.detachEvent){a.detachEvent(["on",c].join(""),b)}else{a[["on",c].join("")]=null}}},deregisterAll:function(){if(!Event.cache){return}for(var a=0,b=Event.cache.length;a<b;a++){Event.deregister(Event.cache[a]);Event.cache[a][0]=null}Event.cache=false}};Event.register(window,"unload",Event.deregisterAll);document.getElemetsByClassName=function(d,g){var a=[];var c=null;var f=new RegExp(["(^|\\s)",d,"(\\s|$)"].join(""));if(g&&g.getElementsByTagName){c=g.getElementsByTagName("*")}if(!c){c=document.getElementsByTagName?document.getElementsByTagName("*"):document.all}for(var e=0,h=c.length;e<h;e++){var b=c[e].getAttribute("class")||c[e].className;if(b.match(f)){a.push(c[e])}}return a};function Library(){this._path="";this._cache=[];this.lang="";this.base="";return this._init()}Library.prototype={_init:function(){var b=document.getElementsByName("X-Resource-Dir")[0];var a=document.getElementsByName("X-Script-Dir")[0];if(b){this.base=this._check_path(b.getAttribute("content"));if(!a){this._path=[this.base,"js/"].join("")}}if(a){this._path=this._check_path(a.getAttribute("content"))}return this},_initLang:function(){var a=document.getElementsByTagName("html")[0];if(!a){return}this.lang=a.getAttribute("xml:lang")||a.getAttribute("lang")},_check_path:function(a){if(!a){return""}if(!a.match(/\/$/)){a=[a,"/"].join("")}return a},require:function(c){var d='\n<script type="text/javascript" src="';var b='.js"><\/script>';for(var a=0,e=c.length;a<e;a++){if(this._cache.indexOf(c[a])>-1){continue}document.write([d,this._path,c[a],b].join(""));this._cache.push(c[a])}},path:function(a){this._path=this._check_path(a)}};var Library=new Library();Event.register(window,"load",function(){Library._initLang()});